import{q as C,x as V,y as F,a0 as B,aI as D,D as g,E as m,ae as E,t as S,v as N,f as y,cr as w}from"./index-k_q90Oa5.js";function _(i,o){if(i&&typeof i!="string"&&(i=JSON.stringify(i,null,2)),o&&o==="json")try{i=JSON.stringify(typeof i=="string"?JSON.parse(i):i,null,2)}catch{}return i||""}var b=function(i){C(o,i);function o(t){var e=i.call(this,t)||this;return e.state={focused:!1},e.handleFocus=e.handleFocus.bind(e),e.handleBlur=e.handleBlur.bind(e),e.handleEditorMounted=e.handleEditorMounted.bind(e),e.handleChange=e.handleChange.bind(e),e}return o.prototype.doAction=function(t,e,a,d){var n,r,s=t==null?void 0:t.actionType,l=this.props,u=l.onChange,h=l.resetValue,c=l.formStore,f=l.store,v=l.name;if(s==="clear")u("");else if(s==="reset"){var p=(r=D((n=c==null?void 0:c.pristine)!==null&&n!==void 0?n:f==null?void 0:f.pristine,v))!==null&&r!==void 0?r:h;u(p??"")}else s==="focus"&&this.focus()},o.prototype.focus=function(){var t,e,a;(t=this.editor)===null||t===void 0||t.focus(),this.setState({focused:!0});var d=(e=this.editor)===null||e===void 0?void 0:e.getPosition();(a=this.editor)===null||a===void 0||a.setPosition(d)},o.prototype.handleFocus=function(t){return g(this,void 0,void 0,function(){var e,a,d,n,r;return m(this,function(s){switch(s.label){case 0:return e=this.props,a=e.dispatchEvent,d=e.value,n=e.onFocus,this.setState({focused:!0}),[4,a("focus",E(this.props,{value:d}))];case 1:return r=s.sent(),r!=null&&r.prevented?[2]:(n==null||n(t),[2])}})})},o.prototype.handleBlur=function(t){return g(this,void 0,void 0,function(){var e,a,d,n,r;return m(this,function(s){switch(s.label){case 0:return e=this.props,a=e.dispatchEvent,d=e.value,n=e.onBlur,this.setState({focused:!1}),[4,a("blur",E(this.props,{value:d}))];case 1:return r=s.sent(),r!=null&&r.prevented?[2]:(n==null||n(t),[2])}})})},o.prototype.handleChange=function(t){return g(this,void 0,void 0,function(){var e,a,d,n;return m(this,function(r){switch(r.label){case 0:return e=this.props,a=e.onChange,d=e.dispatchEvent,[4,d("change",E(this.props,{value:t}))];case 1:return n=r.sent(),n!=null&&n.prevented?[2]:(a&&a(t),[2])}})})},o.prototype.handleEditorMounted=function(t){this.editor=t},o.prototype.render=function(){var t=this.props,e=t.className;t.style;var a=t.value;t.onChange;var d=t.disabled,n=t.size,r=t.options,s=t.language,l=t.editorTheme,u=t.diffValue,h=t.classnames,c=t.data,f=S(u)?_(N(u||"",c,"| raw"),s):_(u,s),v=_(a,s);return y.createElement("div",{className:h("EditorControl",n?"EditorControl--".concat(n):"",e,{"is-focused":this.state.focused})},y.createElement(w,{value:v,originValue:f,onChange:this.handleChange,disabled:d,language:s,editorTheme:l,options:r,onFocus:this.handleFocus,onBlur:this.handleBlur,editorDidMount:this.handleEditorMounted}))},o.defaultProps={language:"javascript",editorTheme:"vs",options:{automaticLayout:!1,selectOnLineNumbers:!0,scrollBeyondLastLine:!1,folding:!0,minimap:{enabled:!1}},diffValue:""},o}(y.Component),P=function(i){C(o,i);function o(){return i!==null&&i.apply(this,arguments)||this}return o.defaultProps=V({},b.defaultProps),o=F([B({type:"diff-editor",sizeMutable:!1})],o),o}(b);export{P as DiffEditorControlRenderer,b as DiffEditorRenderer};
