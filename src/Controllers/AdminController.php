<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.16  |
    |              on 2025-06-22 09:38:11              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
 namespace DagaSmart\BizAdmin\Controllers; use DagaSmart\BizAdmin\Admin; use Illuminate\Http\Request; use DagaSmart\BizAdmin\Traits; use Illuminate\Http\JsonResponse; use Illuminate\Routing\Controller; use DagaSmart\BizAdmin\Services\AdminService; use Psr\Container\NotFoundExceptionInterface; use Psr\Container\ContainerExceptionInterface; use Illuminate\Http\Resources\Json\JsonResource; abstract class AdminController extends Controller { use Traits\ExportTrait; use Traits\UploadTrait; use Traits\ElementTrait; use Traits\QueryPathTrait; use Traits\CheckActionTrait; protected AdminService $service; protected string $queryPath; protected string $adminPrefix; protected bool $isCreate = false; protected bool $isEdit = false; public function __construct() { goto QnW5p; QnW5p: if (!property_exists($this, "\x73\145\x72\166\x69\x63\145\x4e\x61\155\x65")) { goto ceSms; } goto JMBoK; JMBoK: $this->service = $this->serviceName::make(); goto oskL5; oskL5: ceSms: goto BxU0i; J3G6N: $this->queryPath = $this->queryPath ?? str_replace($this->adminPrefix . "\x2f", '', request()->path()); goto faJvt; BxU0i: $this->adminPrefix = Admin::config("\x61\144\x6d\151\156\56\x72\x6f\x75\164\x65\56\x70\x72\x65\x66\x69\170"); goto J3G6N; faJvt: } public function user() { return Admin::user(); } public function getPrimaryValue($CDBRf) : mixed { $Asg3e = $this->service->primaryKey(); return $CDBRf->{$Asg3e}; } protected function response() { return Admin::response(); } protected function autoResponse($lUqls, $inqtx = '') { goto AE21N; TsiF_: return $this->response()->fail($this->service->getError() ?? $inqtx . admin_trans("\x61\x64\155\151\156\56\146\141\151\154\145\144")); goto mxUkI; AE21N: if ($inqtx) { goto Gx2Jy; } goto JSNxS; JSNxS: $inqtx = admin_trans("\141\144\155\151\x6e\x2e\141\x63\x74\151\157\x6e\x73"); goto j9Vx4; oiA_V: return $this->response()->successMessage($inqtx . admin_trans("\x61\144\155\x69\156\56\x73\x75\x63\143\145\x73\x73\146\165\154\154\171")); goto ScpMQ; ScpMQ: Cd12a: goto TsiF_; j9Vx4: Gx2Jy: goto yc_GW; yc_GW: if (!$lUqls) { goto Cd12a; } goto oiA_V; mxUkI: } public function index() { goto YzddY; WDIWD: return $this->response()->success($this->list()); goto yaXfx; IKwmO: if (!$this->actionOfExport()) { goto AIQqE; } goto miFE6; YzddY: if (!$this->actionOfGetData()) { goto y86QK; } goto GeclS; IWnON: y86QK: goto IKwmO; miFE6: return $this->export(); goto cZi11; cZi11: AIQqE: goto WDIWD; GeclS: return $this->response()->success($this->service->list()); goto IWnON; yaXfx: } public function create() { goto fqK8N; wuRjA: return $this->response()->success($Hn9oU); goto z8yvT; a0ASE: $fntJq = amis()->Card()->className("\142\141\x73\x65\x2d\146\x6f\162\155")->header(["\164\x69\x74\154\x65" => admin_trans("\x61\144\155\151\x6e\56\x63\x72\x65\141\x74\x65")])->toolbar([$this->backButton()])->body($this->form(false)->api($this->getStorePath())); goto Gt1SA; Gt1SA: $Hn9oU = $this->basePage()->body($fntJq); goto wuRjA; fqK8N: $this->isCreate = true; goto a0ASE; z8yvT: } public function store(Request $CDBRf) { goto PiAJc; PiAJc: $MJQsq = fn($EFytN) => $this->autoResponse($EFytN, admin_trans("\x61\x64\155\x69\x6e\56\x73\141\166\x65")); goto uEQ93; h7A_0: return $MJQsq($this->service->quickEditItem($CDBRf->all())); goto TCKvi; wt6gX: return $MJQsq($this->service->quickEdit($CDBRf->all())); goto ppEGU; ppEGU: DGhV7: goto xGLRU; uEQ93: if (!$this->actionOfQuickEdit()) { goto DGhV7; } goto wt6gX; MVfZ7: return $MJQsq($this->service->store($CDBRf->all())); goto ZYpFz; xGLRU: if (!$this->actionOfQuickEditItem()) { goto AEVys; } goto h7A_0; TCKvi: AEVys: goto MVfZ7; ZYpFz: } public function show($H0Ru3) { goto iNAfT; Xv7A5: return $this->response()->success($this->service->getDetail($H0Ru3)); goto zPdm6; vWJNn: $K35wT = amis()->Card()->className("\x62\x61\x73\x65\x2d\146\x6f\x72\155")->header(["\x74\151\164\154\x65" => admin_trans("\x61\x64\x6d\x69\x6e\56\x64\145\164\141\x69\154")])->body($this->detail($H0Ru3))->toolbar([$this->backButton()]); goto hchqZ; hchqZ: $Hn9oU = $this->basePage()->body($K35wT); goto NWMm3; iNAfT: if (!$this->actionOfGetData()) { goto cgdvp; } goto Xv7A5; NWMm3: return $this->response()->success($Hn9oU); goto kWQF8; zPdm6: cgdvp: goto vWJNn; kWQF8: } public function edit($H0Ru3) { goto ZJxJO; ZJxJO: $this->isEdit = true; goto QIXCS; D6Pqz: return $this->response()->success($Hn9oU); goto MPfbD; QIXCS: if (!$this->actionOfGetData()) { goto sTVxe; } goto mVXdz; VFMkY: $fntJq = amis()->Card()->className("\142\x61\x73\x65\x2d\146\x6f\162\155")->header(["\164\151\164\154\145" => admin_trans("\141\x64\155\x69\x6e\x2e\x65\x64\x69\x74")])->toolbar([$this->backButton()])->body($this->form(true)->api($this->getUpdatePath())->initApi($this->getEditGetDataPath())); goto ftVix; ftVix: $Hn9oU = $this->basePage()->body($fntJq); goto D6Pqz; wBM9u: sTVxe: goto VFMkY; mVXdz: return $this->response()->success($this->service->getEditData($H0Ru3)); goto wBM9u; MPfbD: } public function update(Request $CDBRf) { goto wJIfP; sX6cV: return $this->autoResponse($EFytN, admin_trans("\x61\144\x6d\x69\156\56\x73\141\166\x65")); goto B5OEC; wJIfP: $Asg3e = $this->getPrimaryValue($CDBRf) ?: data_get(func_get_args(), 1); goto szuMJ; szuMJ: $EFytN = $this->service->update($Asg3e, $CDBRf->all()); goto sX6cV; B5OEC: } public function destroy($PjGLY) { $X6_nw = $this->service->delete($PjGLY); return $this->autoResponse($X6_nw, admin_trans("\141\144\x6d\151\x6e\x2e\x64\145\x6c\145\x74\x65")); } }
