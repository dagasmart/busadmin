<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.16  |
    |              on 2025-06-22 09:38:11              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
 namespace DagaSmart\BizAdmin\Controllers; use DagaSmart\BizAdmin\Admin; use DagaSmart\BizAdmin\Services\AdminMenuService; use DagaSmart\BizAdmin\Traits\IconifyPickerTrait; use DagaSmart\BizAdmin\Services\AdminPageService; class AdminMenuController extends AdminController { use IconifyPickerTrait; protected string $serviceName = AdminMenuService::class; private array $refreshRouteEvent = ["\x61\x63\164\151\x6f\x6e\x73" => [["\x61\143\164\x69\157\x6e\x54\x79\x70\145" => "\143\165\163\164\157\x6d", "\163\x63\162\x69\160\x74" => "\167\151\156\x64\157\x77\x2e\x24\x6f\167\x6c\x2e\162\x65\x66\x72\x65\163\150\x52\157\x75\x74\145\x73\x28\51"]]]; public function list() { $PeHpb = $this->baseCRUD()->perPage(999)->draggable()->saveOrderApi(["\x75\162\154" => "\57\x73\x79\x73\164\x65\x6d\57\x61\144\155\x69\x6e\137\x6d\x65\x6e\165\163\57\x73\x61\x76\x65\x5f\157\162\x64\145\162", "\144\141\164\141" => ["\x69\x64\x73" => "\x24\173\x69\x64\163\175"]])->loadDataOnce()->syncLocation(false)->headerToolbar([$this->createButton("\x64\x72\141\x77\x65\162"), ...$this->baseHeaderToolBar()])->filterTogglable(true)->filter($this->baseFilter()->body([amis()->TextControl("\x74\x69\x74\154\145", admin_trans("\141\144\x6d\x69\x6e\x2e\x61\144\155\151\x6e\x5f\x6d\145\x6e\165\x2e\x74\x69\x74\x6c\145"))->size("\x6d\x64")->clearable()->placeholder(admin_trans("\141\144\155\x69\156\x2e\x61\x64\x6d\x69\x6e\137\155\145\156\x75\56\x74\x69\x74\154\145")), amis()->TextControl("\x75\x72\x6c", admin_trans("\x61\144\155\151\156\x2e\141\144\x6d\151\156\137\x6d\x65\x6e\165\x2e\165\x72\x6c"))->size("\x6d\x64")->clearable()->placeholder(admin_trans("\x61\144\155\x69\x6e\x2e\x61\144\x6d\151\x6e\137\x6d\x65\156\165\56\x75\x72\x6c"))]))->footerToolbar(["\x73\x74\x61\164\151\163\164\x69\x63\x73"])->bulkActions([$this->bulkDeleteButton()->dialog($this->deleteDialog())])->autoFillHeight(true)->itemCheckableOn("\44\x7b\x69\x73\x5f\x6b\x65\145\x70\x3d\75\x30\x7d")->columns([amis()->TableColumn("\151\144", "\111\x44")->sortable(), amis()->TableColumn("\164\151\164\154\x65", admin_trans("\141\x64\x6d\x69\x6e\x2e\141\x64\155\x69\156\137\x6d\x65\156\165\56\x74\151\164\x6c\x65"))->width(120), amis()->TableColumn("\x69\143\x6f\156", admin_trans("\x61\144\155\x69\156\x2e\x61\x64\x6d\151\x6e\x5f\x6d\x65\156\165\56\151\x63\x6f\x6e"))->type("\146\x6c\x65\170")->className("\164\145\x78\x74\x2d\x63\145\156\164\145\x72\x20\150\x2d\x66\x75\x6c\154")->justify("\x73\x74\x61\162\164")->items("\143\x65\156\x74\x65\x72")->items([amis()->Wrapper()->size("\156\x6f\156\x65")->body(amis()->SvgIcon()->icon("\x24\173\151\x63\157\156\175")->className("\155\162\x2d\x32\x20\164\145\x78\x74\x2d\x78\154\40\150\x2d\x66\x75\x6c\x6c")), amis()->Tpl()->tpl("\44\x7b\x69\x63\x6f\156\x7d")]), amis()->TableColumn("\165\x72\x6c", admin_trans("\x61\x64\x6d\151\x6e\x2e\141\x64\155\x69\156\x5f\155\145\x6e\165\56\x75\162\154")), amis()->TableColumn("\x63\x75\x73\x74\157\x6d\x5f\x6f\162\x64\x65\162", admin_trans("\x61\x64\x6d\151\x6e\56\141\144\155\151\x6e\137\155\145\156\x75\x2e\x6f\x72\144\x65\162"))->quickEdit(amis()->NumberControl()->displayMode("\x65\x6e\150\141\156\143\x65")->min(0)->saveImmediately()), amis()->TableColumn("\166\x69\x73\x69\142\154\x65", admin_trans("\x61\x64\155\151\156\x2e\141\x64\x6d\x69\x6e\x5f\155\x65\156\165\x2e\166\151\x73\151\x62\154\x65"))->quickEdit(amis()->CheckboxControl()->mode("\151\x6e\x6c\151\x6e\145")->saveImmediately()), amis()->TableColumn("\151\x73\x5f\x68\157\155\x65", admin_trans("\141\144\155\x69\x6e\x2e\x61\144\155\151\x6e\137\155\x65\x6e\x75\56\151\x73\x5f\x68\x6f\x6d\145"))->quickEdit(amis()->CheckboxControl()->mode("\x69\156\x6c\x69\156\145")->saveImmediately()), $this->rowActions([$this->rowEditButton("\x64\162\x61\167\x65\162"), $this->rowDeleteButton()->dialog($this->deleteDialog())->visibleOn("\44\x7b\x69\x73\137\153\145\x65\160\75\75\60\175")])->width(135)->set("\x66\151\170\x65\144", "\162\x69\x67\x68\164")])->onEvent(["\161\165\151\x63\x6b\x53\x61\166\145\111\164\x65\x6d\x53\165\x63\143" => $this->refreshRouteEvent, "\163\141\166\145\117\x72\x64\145\x72\123\x75\143\x63" => $this->refreshRouteEvent]); return $this->baseList($PeHpb); } public function form() { return $this->baseForm()->mode("\x6e\157\162\155\141\x6c")->body([amis()->TextControl("\x74\x69\x74\x6c\145", admin_trans("\141\x64\155\151\156\56\141\x64\155\x69\x6e\x5f\x6d\145\156\x75\56\164\x69\164\154\145"))->required(), $this->iconifyPicker("\151\x63\x6f\x6e", admin_trans("\x61\x64\155\151\156\x2e\x61\x64\x6d\x69\156\137\x6d\x65\156\x75\x2e\151\x63\157\x6e")), amis()->TreeSelectControl("\x70\x61\162\145\x6e\164\x5f\x69\x64", admin_trans("\x61\144\155\151\x6e\x2e\141\144\x6d\x69\x6e\x5f\x6d\145\x6e\x75\x2e\160\141\162\x65\x6e\x74\137\151\x64"))->id("\x70\x61\x72\x65\156\x74\137\x73\x65\x6c\x65\x63\164")->labelField("\164\x69\164\x6c\x65")->valueField("\x69\144")->showIcon(false)->source("\57\163\171\x73\164\x65\x6d\x2f\141\x64\155\151\156\x5f\x6d\x65\x6e\165\163\x3f\x5f\141\x63\x74\151\157\x6e\x3d\x67\145\x74\104\x61\164\x61"), amis()->GroupControl()->body([amis()->NumberControl("\x63\x75\x73\x74\157\155\x5f\157\x72\x64\x65\162", admin_trans("\141\x64\155\151\x6e\x2e\141\144\x6d\151\x6e\x5f\x6d\x65\156\x75\56\157\x72\144\145\162"))->required()->displayMode("\145\x6e\150\x61\156\x63\x65")->description(admin_trans("\141\x64\x6d\x69\x6e\56\157\162\x64\x65\x72\x5f\141\163\x63"))->size("\163\155")->min(0)->value(10), amis()->SwitchControl("\x76\151\163\x69\142\x6c\145", admin_trans("\x61\x64\155\151\x6e\56\141\144\155\x69\156\137\155\x65\156\x75\56\166\151\163\x69\142\154\145"))->onText(admin_trans("\x61\x64\x6d\x69\x6e\x2e\x79\145\163"))->offText(admin_trans("\x61\144\155\x69\x6e\x2e\x6e\x6f"))->value(1)]), amis()->ListControl("\165\162\154\x5f\164\171\x70\x65", admin_trans("\141\144\155\x69\156\x2e\141\x64\155\151\x6e\x5f\x6d\x65\156\165\56\164\171\x70\145"))->options(Admin::adminMenuModel()::getType())->value(Admin::adminMenuModel()::TYPE_ROUTE)->disabledOn("\x24\173\x69\x73\x5f\x6b\145\x65\160\x7d"), amis()->TextControl("\165\162\154", admin_trans("\141\144\x6d\x69\x6e\56\141\x64\x6d\151\156\x5f\x6d\x65\x6e\x75\56\x75\x72\154"))->required()->validateOnChange()->validations(["\155\141\164\143\x68\122\145\147\145\170\160" => "\x2f\x5e\50\150\164\164\x70\x28\163\51\x3f\x5c\72\134\57\51\x3f\50\x5c\57\51\53\57"])->validationErrors(["\x6d\141\164\x63\x68\122\x65\147\x65\170\160" => admin_trans("\141\144\x6d\151\x6e\56\x6e\x65\x65\144\x5f\x73\x74\x61\162\164\x5f\167\151\x74\150\x5f\163\154\x61\x73\x68")])->placeholder("\x65\x67\x3a\40\x2f\141\x64\x6d\x69\156\x5f\155\145\x6e\165\x73")->hiddenOn("\x75\x72\x6c\137\164\x79\x70\145\40\x21\x3d\x20" . Admin::adminMenuModel()::TYPE_LINK)->disabledOn("\x24\173\151\163\137\x6b\x65\145\x70\175"), amis()->TextControl("\x75\162\x6c", admin_trans("\141\x64\x6d\151\x6e\56\141\144\x6d\x69\156\137\155\145\156\165\x2e\x72\157\x75\x74\x65"))->required()->validateOnChange()->validations(["\155\141\x74\143\150\x52\x65\x67\x65\170\160" => "\57\136\x28\x68\164\x74\160\x28\163\51\x3f\134\72\x5c\x2f\51\x3f\x28\134\x2f\51\53\57"])->validationErrors(["\155\x61\164\x63\150\x52\145\147\145\170\160" => admin_trans("\141\144\x6d\x69\x6e\x2e\x6e\x65\145\x64\137\163\x74\x61\162\x74\x5f\167\x69\164\150\x5f\163\x6c\x61\163\x68")])->placeholder("\145\x67\72\x20\x2f\141\x64\155\151\156\137\155\145\156\165\163")->hiddenOn("\165\x72\x6c\137\164\x79\160\x65\x20\x3d\75\40" . Admin::adminMenuModel()::TYPE_LINK)->disabledOn("\44\173\151\x73\137\153\145\x65\160\x7d"), amis()->SelectControl("\x63\x6f\155\160\x6f\x6e\145\x6e\x74", admin_trans("\141\144\155\x69\x6e\56\141\x64\155\x69\156\137\x6d\145\x6e\x75\56\x70\x61\x67\x65"))->required()->options(AdminPageService::make()->options())->menuTpl("\44\173\x6c\x61\x62\145\x6c\175\40\x3c\163\160\141\x6e\x20\143\x6c\x61\163\163\75\x22\x74\145\170\x74\x2d\147\x72\x61\171\x2d\63\x30\60\40\x70\154\55\x32\42\x3e\44\173\166\x61\x6c\165\x65\x7d\x3c\x2f\x73\x70\x61\156\76")->selectFirst()->searchable()->visibleOn("\165\162\x6c\137\164\x79\x70\x65\x20\75\75\40" . Admin::adminMenuModel()::TYPE_PAGE), amis()->GroupControl()->body([amis()->TextControl("\x69\146\162\141\x6d\x65\137\x75\x72\154", "\x49\x66\162\141\155\145\x55\x72\x6c")->required()->validateOnChange()->validations(["\x6d\141\x74\143\x68\122\145\147\x65\170\x70" => "\57\136\50\x68\x74\164\160\50\x73\51\77\134\72\x5c\x2f\51\77\x28\x5c\x2f\51\53\57"])->validationErrors(["\x6d\x61\164\143\x68\122\145\147\145\170\160" => admin_trans("\141\144\x6d\151\156\56\x6e\x65\x65\144\137\163\x74\x61\162\x74\137\167\x69\164\150\x5f\163\x6c\141\x73\150")])->placeholder("\x65\147\72\x20\150\x74\x74\x70\x73\72\57\x2f\x77\x77\167\x2e\161\161\x2e\143\157\155")->hiddenOn("\165\x72\154\x5f\164\171\160\x65\x20\x21\75\x20" . Admin::adminMenuModel()::TYPE_IFRAME)]), amis()->FieldSetControl()->title(admin_trans("\x61\144\155\x69\x6e\56\x6d\x6f\x72\145"))->collapsable()->collapsed()->body([amis()->TextControl("\x63\157\155\x70\x6f\x6e\x65\156\164", admin_trans("\141\x64\155\x69\156\x2e\x61\144\155\151\156\137\x6d\145\x6e\x75\56\x63\x6f\155\160\157\x6e\145\156\x74"))->description(admin_trans("\141\x64\155\151\156\x2e\x61\x64\x6d\151\156\137\x6d\x65\156\x75\x2e\143\x6f\155\x70\x6f\x6e\145\156\164\137\x64\145\163\x63"))->value("\141\155\151\x73")->hiddenOn("\x75\x72\154\x5f\x74\171\x70\145\40\x21\75\x20" . Admin::adminMenuModel()::TYPE_ROUTE), amis()->SwitchControl("\x6b\x65\x65\160\137\x61\154\151\166\145", admin_trans("\x61\144\155\x69\156\x2e\141\144\x6d\x69\156\x5f\155\x65\x6e\165\x2e\x6b\x65\x65\x70\x5f\141\x6c\151\x76\145"))->onText(admin_trans("\x61\144\155\151\156\56\171\x65\163"))->offText(admin_trans("\141\x64\155\x69\x6e\56\156\157"))->description(admin_trans("\141\x64\x6d\151\156\56\x61\144\x6d\151\x6e\x5f\155\x65\x6e\165\56\151\x66\162\x61\155\145\137\x64\145\x73\x63\162\151\x70\164\x69\x6f\x6e"))->value(0), amis()->SwitchControl("\151\163\137\150\x6f\155\x65", admin_trans("\x61\x64\x6d\x69\x6e\56\x61\144\x6d\151\156\137\155\145\x6e\165\x2e\x69\163\137\150\157\155\145"))->onText(admin_trans("\x61\x64\x6d\x69\x6e\56\x79\145\163"))->offText(admin_trans("\x61\144\155\x69\x6e\x2e\x6e\x6f"))->description(admin_trans("\141\x64\155\x69\x6e\56\x61\144\x6d\x69\x6e\x5f\155\x65\156\165\56\x69\163\x5f\150\157\155\x65\137\144\145\163\143\x72\151\160\164\151\157\156"))->value(0), amis()->SwitchControl("\x69\163\137\146\165\x6c\x6c", admin_trans("\141\144\x6d\151\156\56\x61\144\x6d\151\156\x5f\x6d\x65\156\x75\x2e\151\163\137\x66\x75\154\154"))->onText(admin_trans("\141\144\155\x69\156\56\171\x65\x73"))->offText(admin_trans("\x61\144\155\151\x6e\x2e\x6e\x6f"))->description(admin_trans("\x61\144\x6d\x69\156\56\141\x64\x6d\151\156\x5f\155\x65\156\165\x2e\151\x73\x5f\x66\x75\154\x6c\x5f\x64\145\x73\143\162\151\160\x74\x69\157\156"))->value(0)])])->onEvent(["\151\x6e\151\x74\145\x64" => ["\x61\x63\164\x69\x6f\156\x73" => [["\141\x63\x74\151\157\x6e\x54\x79\160\x65" => "\163\x65\x74\126\141\x6c\x75\145", "\x63\x6f\x6d\160\x6f\156\145\x6e\x74\x49\x64" => "\160\141\162\x65\156\x74\x5f\163\x65\x6c\x65\x63\x74", "\x61\x72\147\x73" => ["\x76\x61\154\165\x65" => "\44\x7b\x72\x65\x73\x70\x6f\156\x73\x65\104\x61\x74\141\56\x70\141\162\x65\156\x74\x5f\x69\144\40\174\174\x20\x22\x22\x7d"]]]], "\163\x75\142\x6d\151\x74\123\165\143\x63" => $this->refreshRouteEvent]); } public function detail() { return $this->baseDetail()->body([]); } public function saveOrder() { return $this->autoResponse($this->service->reorder(request()->input("\151\x64\x73"))); } private function deleteDialog() { return amis()->Dialog()->title()->className("\160\x79\x2d\62")->actions([amis()->Action()->actionType("\143\141\x6e\143\145\x6c")->label(admin_trans("\141\144\x6d\x69\156\x2e\143\x61\156\143\x65\x6c")), amis()->Action()->actionType("\x73\x75\x62\155\151\164")->label(admin_trans("\x61\x64\155\151\x6e\x2e\x64\x65\x6c\x65\164\x65"))->level("\x64\x61\156\147\x65\162")])->body([amis()->Form()->wrapWithPanel(false)->api($this->getDeletePath())->body([amis()->Tpl()->className("\x70\x79\55\62")->tpl(admin_trans("\x61\144\155\151\156\56\143\x6f\x6e\146\x69\x72\155\137\144\145\x6c\x65\164\x65"))])->onEvent(["\163\165\142\155\x69\164\123\165\143\143" => $this->refreshRouteEvent])]); } }
