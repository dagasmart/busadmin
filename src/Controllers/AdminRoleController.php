<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.16  |
    |              on 2025-06-22 09:38:11              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
 namespace DagaSmart\BizAdmin\Controllers; use DagaSmart\BizAdmin\Services\AdminRoleService; use DagaSmart\BizAdmin\Services\AdminPermissionService; class AdminRoleController extends AdminController { protected string $serviceName = AdminRoleService::class; public function list() { $PeHpb = $this->baseCRUD()->headerToolbar([$this->createButton("\x64\x72\x61\x77\x65\x72"), ...$this->baseHeaderToolBar()])->filterTogglable(true)->filter($this->baseFilter()->body([amis()->TextControl("\x6e\141\155\145", admin_trans("\x61\144\155\151\x6e\56\141\144\155\151\x6e\x5f\162\157\x6c\145\x2e\x6e\x61\155\145"))->size("\155\144")->clearable()->placeholder(admin_trans("\141\x64\x6d\x69\156\x2e\x61\144\x6d\x69\x6e\x5f\162\157\154\145\56\156\x61\x6d\x65")), amis()->TextControl("\163\x6c\x75\x67", admin_trans("\x61\x64\155\x69\156\56\141\x64\155\x69\156\x5f\x72\157\x6c\145\56\x73\x6c\165\147"))->size("\155\144")->clearable()->placeholder(admin_trans("\x61\144\155\151\156\x2e\x61\144\x6d\151\156\137\x72\157\x6c\145\56\163\x6c\165\x67")), amis()->DateRangeControl("\x63\x72\x65\141\x74\x65\144\137\141\164", admin_trans("\141\x64\x6d\151\156\x2e\x63\162\x65\141\164\x65\x64\137\141\x74"))->clearable()->format("\131\x59\131\131\55\x4d\115\55\x44\104")->placeholder(admin_trans("\141\144\x6d\151\156\56\143\x72\145\141\164\x65\x64\x5f\141\164"))]))->columns([amis()->TableColumn()->label("\111\x44")->name("\x69\144")->sortable(), amis()->TableColumn()->label(admin_trans("\141\x64\x6d\151\x6e\56\x61\144\x6d\151\156\137\162\157\x6c\145\56\x6e\x61\x6d\x65"))->name("\156\141\155\x65"), amis()->TableColumn()->label(admin_trans("\141\144\x6d\151\156\x2e\141\144\x6d\151\x6e\x5f\x72\x6f\154\x65\56\163\x6c\165\x67"))->name("\163\154\165\147")->type("\x74\141\147"), amis()->TableColumn()->label(admin_trans("\x61\x64\x6d\151\x6e\56\x63\162\145\x61\x74\145\x64\x5f\141\164"))->name("\143\162\x65\141\x74\x65\x64\x5f\x61\x74")->type("\144\141\x74\145\164\151\155\x65")->sortable(), amis()->TableColumn()->label(admin_trans("\141\x64\x6d\151\x6e\56\x75\160\144\141\x74\x65\x64\x5f\141\164"))->name("\x75\160\x64\x61\164\x65\x64\x5f\141\x74")->type("\x64\x61\164\x65\164\151\155\145")->sortable(), $this->rowActions([$this->setPermission(), $this->rowEditButton("\144\x72\141\167\x65\x72"), $this->rowDeleteButton()])]); return $this->baseList($PeHpb)->css(["\x2e\x74\162\x65\145\x2d\x66\x75\x6c\x6c" => ["\x6f\166\145\x72\x66\x6c\x6f\167" => "\x68\151\144\x64\145\156\x20\41\x69\x6d\x70\x6f\x72\164\141\156\x74"], "\56\143\x78\x64\55\124\x72\145\145\x43\157\156\x74\x72\157\x6c\x20\76\x20\56\x63\170\x64\x2d\124\x72\145\x65" => ["\150\145\x69\x67\150\164" => "\x31\x30\x30\x25\40\41\151\155\160\157\162\x74\141\156\x74", "\155\x61\170\55\x68\145\151\x67\150\x74" => "\x31\60\60\x25\40\41\x69\155\160\157\x72\x74\x61\x6e\164"]]); } protected function setPermission() { return amis()->DrawerAction()->label(admin_trans("\x61\144\155\151\156\x2e\141\x64\x6d\151\x6e\x5f\162\157\154\145\56\x73\145\164\x5f\160\x65\x72\x6d\151\x73\163\151\157\156\163"))->level("\154\151\x6e\153")->drawer(amis()->Drawer()->title(admin_trans("\x61\144\155\x69\x6e\56\x61\144\x6d\151\x6e\137\x72\157\154\145\x2e\163\145\164\x5f\x70\x65\162\x6d\x69\x73\x73\151\x6f\156\163"))->resizable()->closeOnOutside()->closeOnEsc()->body([amis()->Form()->api(admin_url("\163\x79\x73\x74\x65\155\x2f\141\x64\155\151\x6e\137\x72\x6f\x6c\x65\x73\x2f\163\141\166\145\x5f\160\x65\x72\x6d\151\x73\163\x69\157\x6e\163"))->initApi($this->getEditGetDataPath())->mode("\x6e\x6f\x72\155\x61\x6c")->data(["\x69\x64" => "\44\x7b\x69\144\x7d"])->body([amis()->TreeControl()->name("\160\x65\x72\x6d\151\x73\163\x69\157\156\163")->label()->multiple()->heightAuto()->options(AdminPermissionService::make()->getTree())->searchable()->cascade()->joinValues(false)->extractValue()->size("\x66\165\x6c\x6c")->className("\150\x2d\x66\165\154\x6c\40\142\x2d\156\x6f\156\x65")->inputClassName("\150\55\146\165\154\x6c\x20\x74\x72\x65\x65\55\x66\x75\x6c\154")->labelField("\x6e\x61\x6d\145")->valueField("\x69\x64")])])); } public function savePermissions() { $EFytN = $this->service->savePermissions(request("\x69\x64"), request("\160\145\x72\x6d\x69\x73\x73\151\157\x6e\x73")); return $this->autoResponse($EFytN, admin_trans("\x61\x64\x6d\x69\x6e\56\163\141\166\145")); } public function form() { return $this->baseForm()->mode("\x6e\x6f\x72\x6d\x61\154")->body([amis()->TextControl()->label(admin_trans("\141\x64\155\x69\x6e\x2e\141\144\x6d\x69\156\137\162\157\x6c\x65\56\x6e\141\x6d\x65"))->name("\156\141\155\x65")->required(), amis()->TextControl()->label(admin_trans("\141\x64\x6d\x69\156\x2e\x61\144\155\x69\x6e\137\x72\x6f\154\145\56\163\154\165\x67"))->name("\x73\x6c\165\147")->description(admin_trans("\141\x64\155\x69\x6e\56\x61\144\155\x69\x6e\137\162\x6f\154\145\x2e\163\154\x75\147\137\x64\145\163\x63\162\x69\x70\164\151\157\156"))->required()]); } public function detail() { return $this->baseDetail()->body([]); } }
