<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.16  |
    |              on 2025-06-22 09:38:12              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
 namespace DagaSmart\BizAdmin\Extend; use Illuminate\Support\Arr; use Illuminate\Support\Str; use DagaSmart\BizAdmin\Admin; use Illuminate\Support\Facades\Validator; trait CanImportMenu { protected $menu = []; protected array $menuValidationRules = ["\x70\141\x72\145\156\164" => "\156\165\154\x6c\141\142\x6c\145", "\x74\151\164\154\145" => "\162\145\161\165\151\x72\145\x64", "\165\162\x6c" => "\156\165\154\x6c\141\142\154\145", "\x75\x72\x6c\x5f\164\171\x70\x65" => "\156\x75\154\154\141\142\154\x65", "\x69\x63\x6f\x6e" => "\x6e\x75\x6c\x6c\x61\142\154\x65"]; protected function menu() { return $this->menu; } protected function addMenu(array $PNqcC = []) { goto fyFkV; jG5XB: P2FGP: goto ujK70; BA2Cx: $J6yf0 = ["\160\141\162\x65\x6e\x74\x5f\151\x64" => $this->getParentMenuId($PNqcC["\160\141\162\145\x6e\x74"] ?? 0), "\143\x75\x73\x74\x6f\x6d\x5f\157\x72\144\145\x72" => (int) ($PNqcC["\143\x75\x73\164\157\155\x5f\157\162\x64\x65\x72"] ?? $cjCy3 + 1), "\x74\151\164\154\145" => $PNqcC["\164\x69\x74\x6c\x65"], "\151\x63\x6f\x6e" => (string) ($PNqcC["\151\143\157\x6e"] ?? ''), "\x75\162\154" => (string) ($PNqcC["\x75\x72\x6c"] ?? ''), "\x75\162\x6c\137\164\x79\160\145" => (string) ($PNqcC["\x75\162\x6c\x5f\x74\x79\x70\x65"] ?? 1), "\145\x78\164\x65\156\163\151\x6f\x6e" => $this->getCode()]; goto UtBPV; ACryP: return; goto izJq4; LxebW: EcxEU: goto ACryP; jj_eL: if (Arr::isAssoc($PNqcC)) { goto sR6tS; } goto p6MwF; EZ2Lj: $cjCy3 = $CCP49::max("\143\165\163\164\157\x6d\137\x6f\x72\144\145\x72"); goto BA2Cx; WGm60: return; goto jG5XB; FD27_: if ($this->validateMenu($PNqcC)) { goto P2FGP; } goto WGm60; UtBPV: if (!Admin::merId()) { goto YtqJ8; } goto zCRF_; p6MwF: foreach ($PNqcC as $nJGKm) { $this->addMenu($nJGKm); hvHSD: } goto LxebW; zCRF_: $J6yf0["\x6d\x65\x72\137\151\x64"] = Admin::merId(); goto fROVE; Qwwph: dANe5: goto VAUqN; ujK70: if (!($CCP49 = $this->getMenuModel())) { goto dANe5; } goto EZ2Lj; fyFkV: $PNqcC = $PNqcC ?: $this->menu(); goto jj_eL; fROVE: YtqJ8: goto iGj2q; iGj2q: $CCP49::create($J6yf0); goto Qwwph; izJq4: sR6tS: goto FD27_; VAUqN: } protected function refreshMenu() { $this->flushMenu(); $this->addMenu(); } protected function getParentMenuId($IFXNI) { goto NZ0vd; cHwb9: return $CCP49::query()->where("\164\x69\164\x6c\145", $IFXNI)->where("\x65\170\164\x65\156\163\x69\157\156", $this->getCode())->when(!is_null($C38kp), function ($uzIV4) use($C38kp) { goto g6le0; dSwpd: $uzIV4->where("\155\x65\162\x5f\x69\x64", $C38kp); goto vcIQ2; vcIQ2: JL9bk: goto QRaEX; g6le0: if (!Admin::currentModule(true)) { goto JL9bk; } goto dSwpd; QRaEX: })->value("\151\x64") ?: 0; goto wQSBM; jBwIj: $CCP49 = $this->getMenuModel(); goto yJL6_; CXO48: return $IFXNI; goto SclRP; SclRP: u_yXj: goto KJb7o; yJL6_: if (!Str::startsWith($IFXNI, "\x2f")) { goto IYSND; } goto Fcmg3; KJb7o: $C38kp = Admin::merId(); goto jBwIj; Fcmg3: return $CCP49::query()->where("\165\x72\154", $IFXNI)->when(!is_null($C38kp), function ($uzIV4) use($C38kp) { goto irtxT; irtxT: if (!Admin::currentModule(true)) { goto RVgFe; } goto qmtmy; qmtmy: $uzIV4->where("\155\x65\162\137\x69\144", $C38kp); goto nMeTb; nMeTb: RVgFe: goto GXazR; GXazR: })->value("\151\144") ?: 0; goto QPGt0; QPGt0: IYSND: goto cHwb9; NZ0vd: if (!(is_numeric($IFXNI) || !$IFXNI)) { goto u_yXj; } goto CXO48; wQSBM: } protected function flushMenu() { goto Nu445; q9yve: $C38kp = Admin::merId(); goto Y4dj1; jPdfP: return; goto FABrI; FABrI: bsdp_: goto q9yve; Nu445: $CCP49 = $this->getMenuModel(); goto lPELx; Y4dj1: $CCP49::query()->where("\x65\x78\x74\145\x6e\x73\x69\157\x6e", $this->getCode())->when(!is_null($C38kp), function ($uzIV4) use($C38kp) { goto HRRG6; Jkmz5: zgSyV: goto hyiOU; HRRG6: if (!Admin::currentModule(true)) { goto zgSyV; } goto wTGr_; wTGr_: $uzIV4->where("\155\145\x72\137\x69\x64", $C38kp); goto Jkmz5; hyiOU: })->delete(); goto xI1Dp; lPELx: if ($CCP49) { goto bsdp_; } goto jPdfP; xI1Dp: } public function validateMenu(array $PNqcC) { goto Ixn1P; IsyRb: return false; goto BY__b; CfXWO: gEKcn: goto IsyRb; KU7ZN: return true; goto CfXWO; Ixn1P: $Jd3_r = Validator::make($PNqcC, $this->menuValidationRules); goto LcRcJ; LcRcJ: if (!$Jd3_r->passes()) { goto gEKcn; } goto KU7ZN; BY__b: } protected function getMenuModel() { return Admin::adminMenuModel(); } }
