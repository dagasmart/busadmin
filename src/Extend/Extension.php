<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.16  |
    |              on 2025-06-22 09:38:12              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
 namespace DagaSmart\BizAdmin\Extend; use Illuminate\Support\Str; use DagaSmart\BizAdmin\Admin; use DagaSmart\BizAdmin\Support\Helper; use Illuminate\Filesystem\Filesystem; use Illuminate\Support\Facades\Schema; use DagaSmart\BizAdmin\Traits\ErrorTrait; class Extension { use ErrorTrait; protected string $basePath = ''; protected Filesystem $filesystem; protected string $namespace; protected string $className; protected string $alias; protected string $extensionName; protected string $package; protected string $description; protected string $extensionDir; protected array $dirs = ["\x64\141\164\141\x62\x61\163\x65\x2f\155\x69\147\x72\141\164\x69\x6f\x6e\163", "\x73\162\143\x2f\115\x6f\x64\145\x6c\163", "\x73\162\x63\57\110\x74\164\160\57\x43\157\156\x74\x72\x6f\x6c\154\x65\162\163", "\x73\162\143\x2f\x48\164\164\x70\57\115\151\144\x64\x6c\x65\167\x61\162\145"]; public static function make() { return new self(); } public static function tableExists() { return Admin::hasTable("\141\144\155\x69\156\137\145\170\164\145\x6e\x73\151\157\x6e\163"); } public function createDir($oGpx3, $yE039, $qTwQf, $e_a_f = null) { goto gWERN; TkTpx: $this->package = str_replace("\56", "\x2f", $yE039); goto nrBgl; bIvUV: $this->basePath = rtrim($this->extensionDir, "\x2f") . "\57" . ltrim($this->package, "\x2f"); goto l_uNl; T0J4q: TCb9U: goto D44p1; aoLbn: $this->namespace = $qTwQf; goto ExTqE; SF1ei: $this->dirs[] = "\x70\165\x62\x6c\151\x63\x2f\145\170\x74\x65\156\x73\151\157\156\163\57" . $yE039; goto s9FnX; r13HV: return true; goto knqZ1; gWERN: amis_abort_if(!preg_match("\x2f\136\133\134\x77\x5c\55\137\x5d\x2b\x5c\57\133\x5c\167\x5c\55\137\x5d\53\x24\x2f", $yE039), admin_trans("\141\144\x6d\151\156\56\145\170\164\x65\x6e\x73\x69\157\156\x73\x2e\156\x61\155\x65\137\x69\156\166\141\154\151\x64")); goto SF1ei; yqCoR: $this->makeDir($this->dirs); goto CWow6; czB6Z: if (file_exists($this->extensionDir)) { goto TCb9U; } goto MSMmr; MSMmr: $this->makeDir(); goto T0J4q; ExTqE: $this->extensionDir = admin_extension_path(); goto czB6Z; CWow6: $this->makeFiles(); goto r13HV; l_uNl: amis_abort_if(is_dir($this->basePath), admin_trans("\141\x64\155\151\156\x2e\x65\170\x74\x65\156\163\151\157\156\163\56\145\x78\151\x73\x74\x73") . $this->package); goto yqCoR; s9FnX: $this->filesystem = app("\146\x69\x6c\145\x73"); goto aoLbn; D44p1: $this->alias = $oGpx3; goto TkTpx; NUtlJ: $this->description = $e_a_f ?: "\104\x65\163\143\x72\151\160\x74\151\x6f\x6e\56\x2e\x2e"; goto bIvUV; nrBgl: $this->extensionName = str_replace("\x2f", "\56", $this->package); goto NUtlJ; knqZ1: } protected function makeFiles() { goto qc53o; G8c0A: $this->putFile("\163\x72\143\57\x48\164\164\160\x2f\103\x6f\156\164\x72\x6f\x6c\154\145\162\x73\57{$this->className}\103\157\156\x74\x72\157\154\x6c\145\162\x2e\x70\x68\160", $pFzlB); goto aE1n4; yib4j: $this->putFile("\x63\157\x6d\160\x6f\x73\145\162\x2e\152\163\x6f\x6e", $CZ363); goto sYhUK; Pqhyq: $this->namespace = $this->getRootNameSpace(); goto sB6ij; I98vJ: $this->putFile("\163\162\143\x2f\x68\145\154\160\x65\x72\163\x2e\160\x68\x70", $MAWgs); goto Ull5v; gc5Eo: $MAWgs = file_get_contents(__DIR__ . "\57\x73\164\x75\142\163\x2f\150\145\154\160\x65\x72\163\x2e\163\x74\x75\x62"); goto I98vJ; svV9U: $pFzlB = str_replace(["\173\156\x61\x6d\145\x73\160\141\x63\145\x7d", "\x7b\x63\154\141\163\163\x4e\141\155\x65\175", "\173\x6e\x61\155\x65\175"], [$this->namespace, $this->className, $this->extensionName], file_get_contents(__DIR__ . "\57\163\x74\x75\142\x73\57\x63\x6f\156\164\x72\157\154\x6c\x65\162\56\x73\164\x75\142")); goto G8c0A; sYhUK: $v33Mh = Helper::slug(basename($this->package)); goto khCEI; t20pw: $this->putFile("\163\162\143\57{$this->className}\x53\145\162\x76\x69\x63\145\120\162\157\x76\151\144\x65\x72\56\160\150\x70", $BLaxh); goto svV9U; qc53o: admin_abort_if(!($tC_4_ = Admin::user()), "\350\257\xb7\xe5\x85\x88\347\231\xbb\345\275\x95"); goto Pqhyq; ON2b1: $this->putFile("\163\162\143\x2f\110\164\164\160\57\162\x6f\165\164\145\163\56\x70\x68\160", $TxTXj); goto gc5Eo; sB6ij: $this->className = ucfirst(Str::camel(basename($this->package))); goto uHXHD; khCEI: $BLaxh = str_replace(["\173\156\x61\155\145\163\160\x61\x63\x65\x7d", "\173\143\154\x61\163\163\x4e\x61\155\145\x7d", "\x7b\x74\151\164\x6c\x65\175", "\173\160\141\164\150\175", "\173\142\x61\163\145\x50\x61\x63\x6b\x61\147\x65\175", "\173\160\162\x6f\x70\145\162\x74\171\175"], [$this->namespace, $this->className, Str::title($this->className), $v33Mh, $v33Mh, $this->makeProviderContent()], file_get_contents(__DIR__ . "\57\163\164\x75\x62\163\x2f\x65\170\164\x65\x6e\163\x69\157\156\56\x73\164\165\x62")); goto t20pw; aE1n4: $TxTXj = str_replace(["\x7b\156\x61\155\x65\163\160\141\x63\x65\175", "\x7b\143\x6c\141\163\163\x4e\141\x6d\145\x7d", "\x7b\160\x61\x74\x68\x7d"], [$this->namespace, $this->className, $v33Mh], file_get_contents(__DIR__ . "\57\163\x74\x75\x62\x73\x2f\162\157\x75\x74\x65\163\x2e\163\164\165\142")); goto ON2b1; uHXHD: $this->copyFiles(); goto S2Q00; S2Q00: $CZ363 = str_replace(["\x7b\160\x61\x63\153\x61\147\145\x7d", "\173\141\x6c\x69\141\x73\175", "\173\156\x61\155\x65\x73\160\141\143\x65\x7d", "\x7b\x63\x6c\x61\163\163\x4e\141\155\x65\x7d", "\x7b\144\x65\x73\143\162\x69\x70\164\151\157\156\x7d", "\173\141\x75\x74\150\137\156\x61\x6d\x65\175", "\173\x61\x75\164\x68\x5f\145\155\141\x69\x6c\x7d"], [$this->package, $this->alias, str_replace("\134", "\134\x5c", $this->namespace) . "\134\134", $this->className, $this->description, $tC_4_->name, $tC_4_->email], file_get_contents(__DIR__ . "\57\163\164\165\x62\x73\57\x63\x6f\x6d\x70\157\x73\x65\162\56\x6a\163\157\156\x2e\x73\164\165\x62")); goto yib4j; Ull5v: } protected function makeProviderContent() { return "\160\x72\x6f\x74\145\143\164\145\144\x20\44\155\145\x6e\165\x20\75\40\x5b\x5d\x3b"; } protected function copyFiles() { $nYtpa = [__DIR__ . "\x2f\163\164\165\142\163\57\56\x67\x69\x74\151\x67\x6e\x6f\162\x65\56\163\x74\x75\x62" => "\56\147\151\164\151\x67\156\157\162\145", __DIR__ . "\x2f\163\x74\165\x62\163\x2f\x52\x45\101\104\115\x45\56\x6d\144\56\x73\164\165\x62" => "\122\x45\x41\x44\x4d\x45\56\x6d\x64", __DIR__ . "\x2f\x73\164\165\142\x73\x2f\x6c\157\147\x6f\56\160\x6e\147\56\163\x74\165\142" => "\x6c\x6f\x67\x6f\56\x70\x6e\x67"]; $this->copy($nYtpa); } protected function getRootNameSpace() { goto H2z5h; H2z5h: [$HI3o0, $yE039] = explode("\57", $this->package); goto gp8Mr; cjz8i: return $qTwQf === "\x64\145\x66\x61\x75\x6c\x74" ? $a30rh : $qTwQf; goto OxqK8; rsYHR: $qTwQf = $this->namespace; goto cjz8i; gp8Mr: $a30rh = str_replace(["\x2d"], '', Str::title($HI3o0) . "\x5c" . Str::title($yE039)); goto rsYHR; OxqK8: } protected function extensionPath(string $ZkOaA = '') { goto S5Nj0; o4GyL: return rtrim($this->basePath, "\x2f") . "\57" . ltrim($ZkOaA, "\x2f"); goto Fb5_n; EIAxS: if (!empty($ZkOaA)) { goto gro6h; } goto HbIUI; OCv3K: gro6h: goto o4GyL; S5Nj0: $ZkOaA = rtrim($ZkOaA, "\x2f"); goto EIAxS; HbIUI: return rtrim($this->basePath, "\x2f"); goto OCv3K; Fb5_n: } protected function putFile(string $DJn5_, string $OLtQ2) { $DJn5_ = $this->extensionPath($DJn5_); $this->filesystem->put($DJn5_, $OLtQ2); } protected function copy(array|string $lEge6, string $DJn5_ = null) { goto rwV1E; EUG8w: WHAFl: goto U5gZD; vW4D_: $this->filesystem->copy($lEge6, $DJn5_); goto E1oMx; CH88u: GJsAR: goto Hw2px; WhOrc: $DJn5_ = $this->extensionPath($DJn5_); goto vW4D_; Hw2px: return; goto EUG8w; U5gZD: if (file_exists($lEge6)) { goto eGcu4; } goto f2KRQ; AMZ7D: eGcu4: goto WhOrc; rwV1E: if (!(is_array($lEge6) && is_null($DJn5_))) { goto WHAFl; } goto G52hv; G52hv: foreach ($lEge6 as $ZAY66 => $IyStN) { $this->copy($ZAY66, $IyStN); DYt6I: } goto CH88u; f2KRQ: return; goto AMZ7D; E1oMx: } protected function makeDir(array|string $xuPSa = '') { foreach ((array) $xuPSa as $ZkOaA) { goto abqbZ; ps5zK: $this->filesystem->makeDirectory($ZkOaA, 0755, true, true); goto uwbPO; uwbPO: BogDW: goto jbfiv; abqbZ: $ZkOaA = $this->extensionPath($ZkOaA); goto ps5zK; jbfiv: } TocTJ: } }
