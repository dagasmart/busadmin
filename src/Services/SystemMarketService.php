<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.16  |
    |              on 2025-06-22 09:38:16              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
 namespace DagaSmart\BizAdmin\Services; use Illuminate\Support\Arr; use DagaSmart\BizAdmin\Admin; use Illuminate\Support\Facades\DB; use DagaSmart\BizAdmin\Models\SystemMarket; use DagaSmart\BizAdmin\Models\SystemSoftOrder; class SystemMarketService extends AdminService { protected string $modelName = SystemMarket::class; public function list() { goto lfo_H; FacTQ: $ZmUkK = [$this->getModel()::AUDIT_SUCC]; goto Xh7c5; fT2DG: unset($this->request["\x73\x6f\146\164\x5f\141\x75\164\x68\x6f\162\x69\172\x65"]); goto pPoro; vuVTr: goto SY3Q_; goto pn91q; lKExH: if (!($NGNtf = $this->request["\x73\157\x66\164\137\141\x75\x74\150\157\162\x69\x7a\x65"])) { goto I6Eo6; } goto fT2DG; Xh7c5: $ucdFd = [$this->getModel()::STATUS_DONE]; goto zH1GH; zH1GH: SY3Q_: goto jU_MO; NJUyb: DuaqL: goto OzFxX; lfo_H: if (!is_null(Admin::currentModule(true))) { goto MOSBe; } goto h4uJh; HYORc: unset($this->request["\x73\x6f\x66\164\137\x73\x74\x61\x74\x75\163"]); goto NJUyb; pn91q: nFRvQ: goto FacTQ; jU_MO: return $this->listQuery()->when(!is_null($NGNtf), function ($uzIV4) use($NGNtf) { $uzIV4->whereIn("\163\x6f\146\x74\137\x61\165\x74\x68\157\x72\x69\x7a\145", explode("\54", $NGNtf)); })->whereIn("\163\157\146\164\137\151\x73\137\x61\x75\144\151\x74", $ZmUkK)->whereIn("\163\157\146\164\x5f\x73\164\141\x74\x75\163", $ucdFd)->with("\163\x6f\146\x74\137\x6f\x72\144\145\x72", function ($uzIV4) { $uzIV4->where("\155\x65\162\x5f\151\x64", Admin::merId()); })->paginate(request("\x70\145\x72\120\x61\147\x65", 20)); goto YLoQH; WcmM5: if (!($bpJcS = $this->request["\x73\157\x66\x74\x5f\x73\164\x61\x74\x75\x73"])) { goto uCtEm; } goto Rxg7G; h4uJh: DB::transaction(function () { goto OOv1V; rt2G6: dUVzO: goto p0kvM; ZcM8w: oYn4z: goto CDv2W; OOv1V: $X6_nw = []; goto GK3jn; p0kvM: if (!$X6_nw) { goto oYn4z; } goto umjv6; GK3jn: $IYtBO = Admin::extension(); goto Pp3re; qbImR: w9Ule: goto ZcM8w; umjv6: $oXIs2 = array_keys($X6_nw); goto HrPcQ; HrPcQ: $PjGLY = $this->getModel()->whereNotIn("\163\157\x66\x74\137\143\x6f\144\x65", $oXIs2)->pluck("\151\x64")->toArray(); goto amuYT; Pp3re: foreach ($IYtBO->getExtensionDirectories() as $ZAY66 => $CkNWZ) { goto m4_Gy; A3Rwk: DIcXo: goto LN8xr; MvdA1: $qLRGO = $v7KlI->composerProperty->toArray(); goto l666F; m4_Gy: $v7KlI = $IYtBO->loadExtension($CkNWZ); goto MvdA1; ozjiY: $X6_nw[$v7KlI->getCode()] = $qLRGO; goto A3Rwk; l666F: $qLRGO["\154\157\147\157"] = $v7KlI->getLogoPath(); goto ozjiY; LN8xr: } goto rt2G6; CGfi7: foreach ($X6_nw as $ZAY66 => $yzT5x) { goto BxQ6O; r0Gco: $Gs8ze = str_replace(base_path(), '', $yzT5x["\154\157\x67\157"]); goto F94L1; XQ_T8: $Gs8ze = null; goto ARffz; Ot_KT: aXprd: goto IUDd6; F94L1: $REJnv = str_replace(admin_extension_path() . DIRECTORY_SEPARATOR, '', $GsrA9["\x64\x69\162\x6e\x61\155\145"]); goto T0LAf; ySCZZ: goto aXprd; goto xd0tB; I9VqS: $l3CVB = ["\163\x6f\146\x74\137\x6e\x61\x6d\145" => $yzT5x["\x61\x6c\151\x61\x73"], "\x73\x6f\x66\x74\x5f\x63\x6f\144\145" => $ZAY66, "\163\x6f\x66\164\x5f\x69\143\157\156" => $Gs8ze, "\x73\x6f\146\164\x5f\141\165\x74\x68\157\x72\x69\x7a\145" => 2, "\x73\x6f\146\164\137\x70\162\x69\x63\145" => 100, "\x73\157\146\164\137\144\x65\x73\x63" => $yzT5x["\144\145\x73\x63\162\x69\160\x74\151\157\156"] ?? null, "\x73\x6f\x66\164\x5f\144\x69\162\156\141\x6d\145" => $REJnv, "\143\x72\x65\x61\x74\x65\x64\x5f\x61\x74" => now(), "\165\x70\x64\141\164\x65\x64\137\x61\164" => now()]; goto dQ9lF; TCtQE: $K35wT->soft_desc = $yzT5x["\x64\x65\163\143\162\151\160\164\151\157\x6e"] ?? null; goto A1wIZ; fpU2y: $jmVTc = str_replace(base_path(), '', $GsrA9["\144\151\162\x6e\x61\155\145"]); goto W4qbL; Sa06S: $tw4mD = base64EncodeImage($yzT5x["\x6c\157\x67\157"]); goto fpU2y; W4qbL: base64DecodeImage("\x6c\157\x67\157", $tw4mD, $jmVTc); goto r0Gco; aXhDl: if ($K35wT) { goto Cr1zU; } goto I9VqS; nQ2TE: $K35wT->soft_name = $yzT5x["\x61\x6c\x69\141\x73"] ?? null; goto Bu2CP; A1wIZ: $K35wT->soft_dirname = $REJnv; goto Z90_b; IUDd6: cHrzk: goto WB14b; dQ9lF: $this->getModel()->query()->insert($l3CVB); goto ySCZZ; xd0tB: Cr1zU: goto nQ2TE; T0LAf: PuQYA: goto EZaqu; Bu2CP: $K35wT->soft_code = $ZAY66; goto YwGu5; jZR65: $GsrA9 = pathinfo($yzT5x["\x6c\x6f\147\x6f"]); goto Sa06S; EZaqu: $REJnv = str_replace("\x5c", "\x2f", $REJnv); goto NHs58; Z90_b: $K35wT->save(); goto Ot_KT; CbMvQ: $K35wT = $this->getModel()->query()->where("\x73\x6f\146\164\x5f\143\157\144\145", $ZAY66)->first(); goto aXhDl; YwGu5: $K35wT->soft_icon = $Gs8ze; goto TCtQE; NHs58: $Gs8ze = str_replace("\x5c", "\57", $Gs8ze); goto CbMvQ; BxQ6O: $REJnv = null; goto XQ_T8; ARffz: if (!file_exists($yzT5x["\154\x6f\147\157"])) { goto PuQYA; } goto jZR65; WB14b: } goto qbImR; amuYT: $this->getModel()->forceDestroy($PjGLY); goto CGfi7; CDv2W: }); goto Zfb4h; OzFxX: if (Admin::currentModule(true)) { goto nFRvQ; } goto KDR1J; pPoro: I6Eo6: goto WcmM5; KDR1J: $ZmUkK = array_keys($this->getModel()->getAuditData()); goto M_GG2; G5unM: uCtEm: goto vhJb1; Zfb4h: MOSBe: goto lKExH; vhJb1: if (!($bpJcS = $this->request["\163\x6f\x66\164\x5f\163\x74\141\x74\x75\163"])) { goto DuaqL; } goto HYORc; M_GG2: $ucdFd = array_keys($this->getModel()->getStatusData()); goto vuVTr; Rxg7G: unset($this->request["\163\x6f\146\164\137\163\164\x61\164\165\x73"]); goto G5unM; YLoQH: } public function authOption() { return $this->getModel()->authOption(); } public function statusOption() { return $this->getModel()->statusOption(); } public function audit($J6yf0) { goto xI28e; IgvIz: admin_abort_if(!$yzT5x, "\xe8\275\xaf\344\xbb\xb6\xe4\270\215\xe5\255\x98\xe5\234\250"); goto jH1nY; xI28e: $H0Ru3 = $J6yf0["\151\x64"] ?? 0; goto uuBxU; pqbEL: BqzvX: goto yqwOQ; AaUx5: $yzT5x->soft_audit_desc = $J6yf0["\163\157\x66\x74\x5f\x61\165\144\x69\164\137\144\x65\163\x63"] ?? null; goto GeFFY; qdY_a: $yzT5x->soft_is_audit = $uC52I; goto AaUx5; Ste8P: $yzT5x->soft_authorize = $JxJoC; goto K4YBj; pIWy0: return $yzT5x->save(); goto xxEew; af7sR: $yzT5x = $this->getModel()->query()->firstWhere("\x69\144", $H0Ru3); goto IgvIz; jH1nY: $JxJoC = $J6yf0["\163\157\x66\164\x5f\141\165\164\150\157\162\x69\172\145"] ?? null; goto sl6eM; yqwOQ: $uC52I = $J6yf0["\x73\157\x66\x74\137\151\163\137\x61\165\x64\x69\x74"] ?? null; goto Wq0P4; uuBxU: admin_abort_if(!$H0Ru3, "\xe8\xbd\xaf\344\273\266\151\144\344\270\x8d\345\xad\230\345\x9c\xa8"); goto af7sR; GeFFY: LJZ0T: goto pIWy0; K4YBj: GA7CS: goto oiwQs; Wq0P4: if (!$uC52I) { goto LJZ0T; } goto qdY_a; oiwQs: $hBK36 = $J6yf0["\x73\x6f\x66\x74\x5f\160\x72\151\143\x65"] ?? null; goto T8RiQ; fV7Av: $yzT5x->soft_price = $hBK36; goto pqbEL; T8RiQ: if (!$hBK36) { goto BqzvX; } goto fV7Av; sl6eM: if (!$JxJoC) { goto GA7CS; } goto Ste8P; xxEew: } public function recovery($J6yf0) { goto FYDB6; Ux__7: $yzT5x->soft_status = $this->getModel()::STATUS_WAIT; goto u0Ojr; G4lf9: if (!$JAgOS) { goto tZRT3; } goto yr1F0; u0Ojr: $yzT5x->soft_audit_desc = null; goto W3yAW; W3yAW: tZRT3: goto Ik3X6; LQ44I: $JAgOS = $J6yf0["\163\x6f\x66\164\x5f\x72\x65\143\x6f\166\145\162\171"] ?? null; goto G4lf9; y7Q9q: admin_abort_if(!$yzT5x, "\350\275\xaf\xe4\273\266\xe4\xb8\215\xe5\255\x98\345\x9c\xa8"); goto LQ44I; Ik3X6: return $yzT5x->save(); goto XbdDz; FYDB6: $H0Ru3 = $J6yf0["\151\144"] ?? 0; goto C6R2M; h82VA: $yzT5x = $this->getModel()->query()->firstWhere("\151\x64", $H0Ru3); goto y7Q9q; C6R2M: admin_abort_if(!$H0Ru3, "\xe8\275\257\xe4\xbb\266\x69\144\344\270\215\xe5\255\230\xe5\234\xa8"); goto h82VA; yr1F0: $yzT5x->soft_is_audit = $this->getModel()::AUDIT_WAIT; goto Ux__7; XbdDz: } public function doing($J6yf0) { goto gy4cK; HuJSN: admin_abort_if(!$yzT5x, "\350\275\xaf\xe4\273\xb6\xe4\xb8\215\345\xad\x98\xe5\234\xa8"); goto OtnK5; gy4cK: $H0Ru3 = $J6yf0["\151\144"] ?? 0; goto dHSDq; XtKt3: $yzT5x = $this->getModel()->query()->firstWhere("\151\144", $H0Ru3); goto HuJSN; Fnwyn: return $yzT5x->save(); goto sOkTi; I4Vxz: if (!$bpJcS) { goto RSZ18; } goto uBSHb; OtnK5: $bpJcS = $J6yf0["\x73\157\x66\164\137\x73\164\141\x74\165\x73"] ?? null; goto I4Vxz; dHSDq: admin_abort_if(!$H0Ru3, "\xe8\xbd\xaf\344\273\xb6\151\144\xe4\xb8\215\345\255\230\345\x9c\250"); goto XtKt3; uBSHb: $yzT5x->soft_status = $bpJcS; goto h0dEA; h0dEA: RSZ18: goto Fnwyn; sOkTi: } public function done($J6yf0) { goto pO1f6; pO1f6: $H0Ru3 = $J6yf0["\151\144"] ?? 0; goto pgN68; qOkvx: $yzT5x = $this->getModel()->query()->firstWhere("\151\x64", $H0Ru3); goto Z9X2X; pgN68: admin_abort_if(!$H0Ru3, "\xe8\xbd\xaf\344\xbb\266\151\x64\xe4\270\x8d\xe5\255\x98\xe5\x9c\250"); goto qOkvx; ZJ5pa: $v6Ysd = $J6yf0["\163\157\x66\164\x5f\144\x6f\x6e\145"] ?? null; goto IoUvZ; nB1Fu: return $yzT5x->save(); goto bx1Af; XbG_h: $yzT5x->soft_status = $this->getModel()::STATUS_DONE; goto o1Ve6; o1Ve6: f3OLe: goto nB1Fu; Z9X2X: admin_abort_if(!$yzT5x, "\xe8\275\xaf\xe4\xbb\xb6\xe4\270\x8d\345\255\230\345\x9c\xa8"); goto ZJ5pa; IoUvZ: if (!$v6Ysd) { goto f3OLe; } goto XbG_h; bx1Af: } public function close($J6yf0) { goto vgVJE; DQSbU: $bilsg = $J6yf0["\163\x6f\x66\x74\x5f\143\x6c\x6f\163\145"] ?? null; goto fE4o4; fE4o4: if (!$bilsg) { goto p2qzj; } goto B722N; vgVJE: $H0Ru3 = $J6yf0["\x69\144"] ?? 0; goto A8kWB; Sl9SG: $cVOCI = $J6yf0["\x73\x6f\146\164\x5f\x6f\x66\146\x5f\x64\145\163\x63"] ?? null; goto GmO8E; Lqoei: p2qzj: goto Sl9SG; hhi8j: g54l6: goto D5VW_; A8kWB: admin_abort_if(!$H0Ru3, "\xe8\xbd\257\xe4\273\266\x69\x64\344\xb8\215\xe5\255\x98\xe5\x9c\xa8"); goto mknUF; BpaLj: $yzT5x->soft_off_desc = $cVOCI; goto hhi8j; i9OJz: admin_abort_if(!$yzT5x, "\350\xbd\xaf\xe4\xbb\xb6\xe4\270\x8d\345\255\230\345\x9c\250"); goto DQSbU; mknUF: $yzT5x = $this->getModel()->query()->firstWhere("\151\x64", $H0Ru3); goto i9OJz; GmO8E: if (!$cVOCI) { goto g54l6; } goto BpaLj; D5VW_: return $yzT5x->save(); goto FpGvl; B722N: $yzT5x->soft_status = $this->getModel()::STATUS_CLOSE; goto Lqoei; FpGvl: } public function reset($J6yf0) { goto StEZW; DGjaw: $yzT5x = $this->getModel()->query()->firstWhere("\x69\x64", $H0Ru3); goto Drycb; BEAMU: pSZbb: goto bG1uJ; ixpaw: $yzT5x->soft_status = $this->getModel()::STATUS_WAIT; goto l8E6C; NXzED: if (!$AXtPy) { goto pSZbb; } goto nFGXQ; l8E6C: $yzT5x->soft_off_desc = null; goto BEAMU; VXoOf: $AXtPy = $J6yf0["\163\x6f\x66\164\137\162\145\x73\x65\164"] ?? null; goto NXzED; nFGXQ: $yzT5x->soft_is_audit = $this->getModel()::AUDIT_WAIT; goto ixpaw; iosIE: admin_abort_if(!$H0Ru3, "\xe8\275\257\344\xbb\266\151\x64\344\xb8\215\xe5\xad\230\xe5\234\250"); goto DGjaw; StEZW: $H0Ru3 = $J6yf0["\x69\x64"] ?? 0; goto iosIE; bG1uJ: return $yzT5x->save(); goto V5EhB; Drycb: admin_abort_if(!$yzT5x, "\xe8\xbd\xaf\xe4\273\266\344\xb8\215\xe5\xad\230\xe5\234\250"); goto VXoOf; V5EhB: } public function buy($J6yf0) { goto qp6vM; XjUL0: $l3CVB["\163\x6f\x66\164\x5f\143\157\144\x65"] = $jFQ2o; goto lX5Ma; BWeQ3: $jFQ2o = $J6yf0["\x73\x6f\x66\164\x5f\x63\157\144\145"] ?? null; goto OgNv4; UgT0U: $l3CVB["\x70\x61\171\137\141\155\x6f\x75\x6e\164"] = $Kduj_ * $AjtQH; goto GW2Ps; rqRd0: $l3CVB["\x73\145\x72\166\x69\143\145\137\164\151\x6d\145"] = $AjtQH * 365; goto dHKnV; dHKnV: $l3CVB["\x73\x65\162\166\151\143\x65\x5f\145\156\144\x61\164\x65"] = strtotime("\53\40{$AjtQH}\x20\x79\x65\141\162", time()); goto jljYB; H8b77: $RN5i9 = date("\x59\x2d\x6d\55\144\x20\x48\x3a\151\x3a\x73"); goto uaL7t; ehvYW: $F2ABx = $J6yf0["\x73\x65\162\x76\151\x63\145\137\141\165\164\150\157\x72\x69\172\x65"] ?? 1; goto oFVfd; uaL7t: $TTWEN = $this->getModel()->query()->firstWhere("\151\144", $H0Ru3); goto ua_ZL; bEJsz: $l3CVB["\x6d\145\x72\x5f\x69\144"] = $QOmn1; goto SKM_V; qLHcT: $l3CVB["\155\157\x64\165\154\x65"] = $Ilb2D; goto bEJsz; ua_ZL: admin_abort_if(!$TTWEN, "\350\275\xaf\344\273\xb6\xe4\270\215\xe5\xad\230\345\234\xa8"); goto kMEhS; a0ca2: $QOmn1 = Admin::merId() ?? 0; goto WwBmk; TDmBD: $AjtQH = $J6yf0["\x79\145\x61\x72"] ?? 0; goto H8b77; FGUtW: $l3CVB = []; goto lqMcx; lqMcx: $l3CVB["\x6f\162\144\145\162\x5f\156\x6f"] = admin_order_sn("\123\x4f\x46\124"); goto XjUL0; Nz3p3: $yzT5x = $MWice->query()->where("\163\x6f\146\164\x5f\143\x6f\x64\x65", $jFQ2o)->where("\155\x6f\144\x75\x6c\x65", $Ilb2D)->where("\x6d\x65\162\137\151\x64", $QOmn1)->first(); goto uDxi2; qp6vM: $H0Ru3 = $J6yf0["\x69\x64"] ?? 0; goto BWeQ3; lX5Ma: $l3CVB["\x73\x65\x72\x76\x69\x63\x65\x5f\x61\x75\164\150\157\162\151\172\x65"] = $F2ABx; goto rqRd0; OgNv4: $Kduj_ = $J6yf0["\x73\157\146\x74\x5f\160\162\x69\x63\145"] ?? 0; goto ehvYW; Ik82T: $l3CVB["\165\160\144\141\164\x65\x64\x5f\141\164"] = $RN5i9; goto IoYUr; SKM_V: $l3CVB["\143\x72\145\x61\164\x65\144\137\x61\164"] = $RN5i9; goto Ik82T; IoYUr: return $MWice->insert($l3CVB); goto NHqJb; IpkR8: $Ilb2D = Admin::currentModule(true); goto a0ca2; oFVfd: $YeAeR = Admin::id(); goto IpkR8; uDxi2: admin_abort_if(boolval($yzT5x), "\xe5\xb7\262\344\270\213\xe5\215\x95\350\264\xad\xe4\xb9\xb0\350\277\207\357\274\x8c\xe5\217\257\xe7\273\247\xe7\273\xad\344\275\277\347\x94\250\xe6\x88\x96\xe7\273\xad\xe8\264\271"); goto FGUtW; kMEhS: $MWice = new SystemSoftOrder(); goto Nz3p3; jljYB: $l3CVB["\163\x65\x72\166\x69\x63\x65\137\x70\x72\x69\143\145"] = $Kduj_; goto UgT0U; GW2Ps: $l3CVB["\x74\151\143\153\x65\x64"] = $bEPpI; goto qLHcT; WwBmk: $bEPpI = $J6yf0["\x74\x69\x63\153\145\144"] ?? 0; goto TDmBD; NHqJb: } }
